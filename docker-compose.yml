version: '3.8'

# OpenMind â€” Docker Compose
# Usage: docker-compose up -d
# Then open: http://localhost:8080

services:
  openmind:
    image: ghcr.io/openmind-ai/openmind:latest
    # Or build from source:
    # build: .
    container_name: openmind
    ports:
      - "8080:80"
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s
    labels:
      - "com.centurylinklabs.watchtower.enable=true"  # Auto-update with Watchtower

  # Optional: Auto-update container (remove if not needed)
  # watchtower:
  #   image: containrrr/watchtower
  #   volumes:
  #     - /var/run/docker.sock:/var/run/docker.sock
  #   command: --interval 86400 openmind  # Check for updates daily
